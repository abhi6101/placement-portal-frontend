<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>File Explorer</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            background-color: #f4f4f4;
        }
        .container {
            max-width: 900px;
            margin: 0 auto;
            background-color: #fff;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }
        h1 {
            text-align: center;
            color: #333;
            margin-bottom: 30px;
        }
        .filter-section {
            margin-bottom: 20px;
            text-align: center;
        }
        .filter-section label {
            margin-right: 10px;
            font-weight: bold;
        }
        .filter-section input[type="text"] {
            padding: 10px;
            width: 70%;
            max-width: 400px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 16px;
        }
        .files-list {
            list-style: none;
            padding: 0;
        }
        .files-list li {
            background-color: #e9e9e9;
            margin-bottom: 10px;
            padding: 12px 15px;
            border-radius: 4px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border: 1px solid #ddd;
            transition: background-color 0.2s ease;
        }
        .files-list li:hover {
            background-color: #dcdcdc;
        }
        .files-list li a {
            text-decoration: none;
            color: #007bff;
            font-weight: bold;
            word-break: break-word; /* Ensures long filenames wrap */
        }
        .files-list li a:hover {
            text-decoration: underline;
        }
        .subject-tag {
            background-color: #007bff;
            color: white;
            padding: 5px 10px;
            border-radius: 3px;
            font-size: 0.8em;
            margin-left: 10px;
            white-space: nowrap; /* Prevents tag from wrapping */
        }
        .no-results {
            text-align: center;
            color: #666;
            padding: 20px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>MCA Exam Papers</h1>

        <div class="filter-section">
            <label for="subjectFilter">Filter by Subject or Filename:</label>
            <input type="text" id="subjectFilter" placeholder="e.g., AI, DBMS, May 2024">
        </div>

        <ul id="filesList" class="files-list">
            </ul>
    </div>
<script src="paperfile.js"></script>
    <script>
       
        // Function to extract a simplified subject from the filename
        function getSubject(filename) {
            filename = filename.toLowerCase();
            if (filename.includes("account")) return "Account";
            if (filename.includes("acn") || filename.includes("advance_computer_network") || filename.includes("fcn")) return "Advanced Computer Network";
            if (filename.includes("ada")) return "Advanced Data Analytics";
            if (filename.includes("adbms")) return "Advanced DBMS";
            if (filename.includes("ai")) return "Artificial Intelligence";
            if (filename.includes("aptit") || filename.includes("aptitude")) return "Aptitude";
            if (filename.includes("awt")) return "Advanced Web Technology";
            if (filename.includes("c_november")) return "Programming in C"; // Specific to avoid "mcadd-202-data-structure-using-c-jun-2020.pdf" being just "C"
            if (filename.includes("ca") || filename.includes("computer_architecture")) return "Computer Architecture";
            if (filename.includes("cg") || filename.includes("cgm")) return "Computer Graphics";
            if (filename.includes("cloud_computing")) return "Cloud Computing";
            if (filename.includes("compiler_design")) return "Compiler Design";
            if (filename.includes("computer_ethics")) return "Computer Ethics";
            if (filename.includes("conm")) return "Computer Network Management"; // Assuming CONM for CNM
            if (filename.includes("coot")) return "Computer Oriented Optimization Techniques";
            if (filename.includes("data_analytics")) return "Data Analytics";
            if (filename.includes("data_science")) return "Data Science";
            if (filename.includes("dbms")) return "DBMS";
            if (filename.includes("digital_image_p")) return "Digital Image Processing";
            if (filename.includes("distributed_systems")) return "Distributed Systems";
            if (filename.includes("ds")) return "Data Structures";
            if (filename.includes("file_structure")) return "File Structure";
            if (filename.includes("imca")) return "Integrated MCA";
            if (filename.includes("java") || filename.includes("programming_in_jav")) return "Programming in Java";
            if (filename.includes("mobile_computing")) return "Mobile Computing";
            if (filename.includes("multimedia")) return "Multimedia";
            if (filename.includes("network_security")) return "Network Security";
            if (filename.includes("oops_c") || filename.includes("object-oriented-progr")) return "OOPS with C++"; // Assuming OOPS_C implies C++ context
            if (filename.includes("os") || filename.includes("operating_systems")) return "Operating Systems";
            if (filename.includes("parallel_computing")) return "Parallel Computing";
            if (filename.includes("pom") || filename.includes("principal-of-management")) return "Principles of Management";
            if (filename.includes("ppl") || filename.includes("principles-of-programming")) return "Principles of Programming Languages";
            if (filename.includes("sad") || filename.includes("system-analysis-and-design")) return "System Analysis and Design";
            if (filename.includes("se")) return "Software Engineering";
            if (filename.includes("soft_computing")) return "Soft Computing";
            if (filename.includes("software_architect")) return "Software Architecture";
            if (filename.includes("ss")) return "System Software";
            if (filename.includes("statistics")) return "Statistics";
            if (filename.includes("tcpd") || filename.includes("technical-communication")) return "Technical Communication & Professional Development";
            if (filename.includes("toc")) return "Theory of Computation";
            if (filename.includes("unix") || filename.includes("shell_pr")) return "Unix and Shell Programming";
            if (filename.includes("web_technology") || filename.includes("wt-t") || filename.includes("wt_r") || filename.includes("wt_")) return "Web Technology";
            if (filename.includes("mcadd-404-accounting")) return "Accounting & Finance";


            // Fallback: If no specific subject is found, try to extract the first word
            const parts = filename.split('_');
            if (parts.length > 0) {
                const firstWord = parts[0].replace(/[^a-z0-9]/g, ''); // Remove non-alphanumeric
                if (firstWord.length > 0) {
                    return firstWord.charAt(0).toUpperCase() + firstWord.slice(1);
                }
            }
            return "Miscellaneous"; // Default if no clear subject
        }


        const filesList = document.getElementById('filesList');
        const subjectFilterInput = document.getElementById('subjectFilter');

        // Augment fileData with a 'subject' property
        const processedFileData = fileData.map(file => ({
            ...file,
            subject: getSubject(file.name)
        }));

        function renderFiles(filterText = '') {
            filesList.innerHTML = ''; // Clear current list

            const lowerCaseFilter = filterText.toLowerCase().trim();
            const filteredFiles = processedFileData.filter(file => {
                // Check if filter text is in the filename or the extracted subject
                return file.name.toLowerCase().includes(lowerCaseFilter) ||
                       file.subject.toLowerCase().includes(lowerCaseFilter);
            });

            if (filteredFiles.length === 0) {
                const noResultsItem = document.createElement('li');
                noResultsItem.className = 'no-results';
                noResultsItem.textContent = 'No files found matching your filter.';
                filesList.appendChild(noResultsItem);
                return;
            }

            filteredFiles.forEach(file => {
                const listItem = document.createElement('li');
                const fileLink = document.createElement('a');
                fileLink.href = file.url;
                fileLink.textContent = file.name;
                fileLink.target = "_blank"; // Open link in a new tab

                const subjectTag = document.createElement('span');
                subjectTag.className = 'subject-tag';
                subjectTag.textContent = file.subject;

                listItem.appendChild(fileLink);
                listItem.appendChild(subjectTag);
                filesList.appendChild(listItem);
            });
        }

        // Initial render of all files
        renderFiles();

        // Add event listener for the filter input
        subjectFilterInput.addEventListener('input', (event) => {
            renderFiles(event.target.value);
        });

    </script>
</body>
</html>